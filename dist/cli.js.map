{"version":3,"sources":["../src/cli.js"],"names":[],"mappings":";;;;AAEA,MAAM,QAAQ,QAAQ,OAAR,CAAd;AACA,MAAM,WAAW,QAAQ,UAAR,EAAoB,QAAQ,IAAR,CAAa,KAAb,CAAmB,CAAnB,CAApB,CAAjB;AACA,MAAM,QAAQ,QAAQ,SAAR,CAAd;;AAEA,kBAAC,aACD;AACC,KAAG,CAAC,SAAS,CAAV,IAAe,SAAS,CAAxB,IAA6B,SAAS,IAAzC,EACA;AACC;AACA;AACA;;AAED,KAAI,OAAO;AACV,QAAM,SAAS,CAAT,GAAa,SAAS,CAAtB,GAA0B,EADtB;AAEV,KAAG,SAAS;AAFF,EAAX;;AAKA,KAAI,SAAS,IAAI,KAAJ,EAAb;;AAEA,KACA;AACC,MAAI,SAAS,MAAM,OAAO,MAAP,CAAc,IAAd,CAAnB;AACA,eAAa,MAAb;AACA,EAJD,CAKA,OAAM,CAAN,EACA;AACC,UAAQ,KAAR,CAAe,sBAAoB,CAAE,GAArC;AACA;AACD,CAxBD;;AA0BA,SAAS,YAAT,CAAsB,IAAtB,EACA;AACC,KAAI,QAAQ,EAAZ;;AAEA,OAAM,IAAN,CAAW,CAAC,MAAD,EAAS,SAAT,EAAoB,SAApB,EAA+B,MAA/B,EAAuC,MAAvC,EAA+C,MAA/C,EAAuD,MAAvD,EAA+D,QAA/D,EAAyE,eAAzE,CAAX;;AAEA,MAAI,IAAI,MAAR,IAAkB,KAAK,OAAvB,EACA;AACC,QAAM,IAAN,CAAW,CAAC,OAAO,IAAR,EAAc,OAAO,KAArB,EAA4B,OAAO,KAAnC,EAA0C,OAAO,KAAjD,EAAwD,OAAO,CAA/D,EAAkE,OAAO,IAAzE,EAA+E,OAAO,GAAtF,EAA2F,OAAO,IAAlG,EAAwG,OAAO,KAA/G,CAAX;AACA;;AAED,SAAQ,GAAR,CAAY,MAAM,aAAN,CAAoB,KAApB,CAAZ;AACA;;AAED,SAAS,UAAT,GACA;AACC,KAAI,QAAQ,EAAZ;;AAEA,OAAM,IAAN,CAAW,CAAC,OAAD,EAAU,oCAAV,EAAgD,kBAAhD,CAAX;AACA,OAAM,IAAN,CAAW,CAAC,MAAD,EAAS,wCAAT,CAAX;AACA,OAAM,IAAN,CAAW,CAAC,SAAD,EAAY,wCAAZ,CAAX;;AAEA,SAAQ,GAAR,CAAY,EAAZ;AACA,SAAQ,GAAR,CAAY,MAAM,aAAN,CAAoB,KAApB,CAAZ;AACA,SAAQ,GAAR,CAAY,EAAZ;AACA","file":"cli.js","sourcesContent":["\n\nconst cliff = require(\"cliff\");\nconst minimist = require(\"minimist\")(process.argv.slice(2));\nconst ixIRC = require(\"./ixirc\");\n\n(async function()\n{\n\tif(!minimist.q || minimist.h || minimist.help)\n\t{\n\t\tprint_help();\n\t\treturn;\n\t}\n\n\tlet args = {\n\t\tchan: minimist.c ? minimist.c : 92,\n\t\tq: minimist.q\n\t};\n\n\tlet client = new ixIRC();\n\n\ttry\n\t{\n\t\tlet result = await client.search(args);\n\t\tprint_result(result);\n\t}\n\tcatch(e)\n\t{\n\t\tconsole.error(`Unable to search: ${e}`);\n\t}\n})();\n\nfunction print_result(data)\n{\n\tlet lines = [];\n\n\tlines.push([\"Name\", \"Network\", \"Channel\", \"User\", \"Pack\", \"Gets\" ,\"Size\", \"Posted\", \"Last Activity\"]);\n\n\tfor(let result of data.results)\n\t{\n\t\tlines.push([result.name, result.naddr, result.cname, result.uname, result.n, result.gets, result.szf, result.agef, result.lastf]);\n\t}\n\n\tconsole.log(cliff.stringifyRows(lines));\n}\n\nfunction print_help()\n{\n\tlet lines = [];\n\n\tlines.push([\"USAGE\", \"ixirq -q <query> [-c <channel id>]\", \"(default: -c 92)\"]);\n\tlines.push([\"NOTE\", \"use the plus (+) sign instead of space\"]);\n\tlines.push([\"EXAMPLE\", \"ixirc -q family+guy+s01e01+720p -c 105\"]);\n\n\tconsole.log(\"\");\n\tconsole.log(cliff.stringifyRows(lines));\n\tconsole.log(\"\");\n}\n"]}